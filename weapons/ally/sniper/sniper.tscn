[gd_scene load_steps=39 format=4 uid="uid://b8kdvijvf8dx6"]

[ext_resource type="PackedScene" uid="uid://dnxw7kqi21unw" path="res://weapons/weapon_base.tscn" id="1_s7yg6"]
[ext_resource type="Script" uid="uid://ddhw0aso76g6f" path="res://weapons/ally/sniper/sniper.gd" id="2_braa8"]
[ext_resource type="Script" uid="uid://d3sjvr8ju7j8h" path="res://addons/resonate/sound_manager/sound_event_resource.gd" id="4_7yxvd"]
[ext_resource type="AudioStream" uid="uid://d1ytbudkccgcb" path="res://weapons/ally/sniper/cycle.wav" id="5_5scbx"]
[ext_resource type="AudioStream" uid="uid://f8duoi3fjt71" path="res://weapons/ally/sniper/shot.mp3" id="6_7yxvd"]
[ext_resource type="AudioStream" uid="uid://cx2htjpme3j3o" path="res://weapons/ally/sniper/reload_1.wav" id="7_iv7mh"]
[ext_resource type="AudioStream" uid="uid://b8i2mro73uq3d" path="res://weapons/ally/sniper/reload_2.wav" id="8_0hp27"]
[ext_resource type="PackedScene" uid="uid://da0l8m01w4qxl" path="res://components/bullets/bullet_spawner.tscn" id="8_hcqri"]
[ext_resource type="PackedScene" uid="uid://xrox2sh77fgk" path="res://components/bullets/shared_hit_particles/basic_cpu.tscn" id="9_5scbx"]
[ext_resource type="Script" uid="uid://c4doxu14h34ks" path="res://components/bullets/variants/laser/laser_props.gd" id="9_7yxvd"]
[ext_resource type="Script" uid="uid://d1ylqbvjqhtj8" path="res://components/bullets/patterns/pattern_points.gd" id="10_5scbx"]

[sub_resource type="PortableCompressedTexture2D" id="PortableCompressedTexture2D_7yxvd"]
_data = PackedByteArray("AAADAAUAAAABAAAAwAAAAIAAAAB+AwAAUklGRnYDAABXRUJQVlA4TGoDAAAvv8AfEKfAJgCANOjn7jBvs1QrvAbUUBrJVvM6+P8TFCrH/uvB4dAoBrWRbCX/ox1o5hlDTjV0TwUaMf8BANb/4QK/nzZTdVvQ/KRnQN5o49RW1mW8lxgcRMthG+nQe7xvdqmBBwMo2LZVN3Ken897mKbdDq6a/2BlQMAS5J9E9N+B27aRZHVm9l7Fe75B/qrktvvc53vuaN3kNttzL3ncZ2+P++ztcaGEA07D4+f9dpvuOXuuywQLzxfQHtQev/36cb9N95w+11ATRdPTbp9SMqvHCgWPgx9yv7xnTz59labnTUu/pX2g2TY8HlJwv7pnV7AWrW3QshBosrJnaVg/QZ8TXZZ8MMOsq+crek7ZaGGhgfFKoS92kEjPvrGW8eSE6rwZnAt16ZafUzPrq2EZTwxvUIiOvzB8KDQBj6iKyNU9hxNjdFCNpehg0Y2RVKPIkYyILO1puB+baM5aig4WXdVcaoLnTy7vOWPhfMIM0armUlMARC7vOSMI7qrVm344uDteeFas7VlV22x4Vs+LeF4TgGU8L5sFPP//h8DGg4UQ4HQBg6JdRS/pGQ5SSs9Xx/ZKoSMWQlOU86znaSFYTaPIEgOzrhekRVcN63lS9wUC1M8EA53XPn1ewHqeHxNKzE76GtpoYaGB8UphOU9ovFVIz5Hb0qYWNYNzoTU8T129/KBiNvb+xmtqz/RkZU9oiEbAI6YymhijAw1Psz14qqrIkawyHI+OCJHKU/fgqTkr4DkjExYOHrm4p+r76/u78BxO4XnkowHMCFLIcm1PzfqePFfr7TEaoHqkq3vqNE9rzXVtyrfhJf8pgixB8TbcOyr/kwQWDtixp4WClNLzBWzYE2sBsmFPqeX6JIH9eRYmtLDQwHilsKqnjntyQvU2MYNzoUU9Neu4p+Elqu+v7++QEunJ0McBr8n5/TXZUzXM9fRwZIpnjNHRrG/AI2YmMzxBVd9zPXOePZdH0DmeHh0RjYgcyaoyx5OlPMdF8bJm8JyR/XoiuDuIAOzWsxJr+23E83+ZwcIBO46FgpTS8wU7XliLLW8idVnQ58QeN6WFhQbGK4V91dVEs5bnzTjFbGMfN7zmyOeGpGfXxVtLjNEBjwoeMTPZbPzYRIiIHMmqIttdOHgE8JyR/QbB3UEEYLsB6kf6Lx4E")
size_override = Vector2(192, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_5scbx"]
atlas = SubResource("PortableCompressedTexture2D_7yxvd")
region = Rect2(144, 64, 48, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_lnjeg"]
atlas = SubResource("PortableCompressedTexture2D_7yxvd")
region = Rect2(0, 96, 48, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_iv7mh"]
atlas = SubResource("PortableCompressedTexture2D_7yxvd")
region = Rect2(0, 0, 48, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_0hp27"]
atlas = SubResource("PortableCompressedTexture2D_7yxvd")
region = Rect2(48, 32, 48, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_yoqqk"]
atlas = SubResource("PortableCompressedTexture2D_7yxvd")
region = Rect2(96, 32, 48, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_soys5"]
atlas = SubResource("PortableCompressedTexture2D_7yxvd")
region = Rect2(144, 32, 48, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_062l6"]
atlas = SubResource("PortableCompressedTexture2D_7yxvd")
region = Rect2(0, 64, 48, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_my5mh"]
atlas = SubResource("PortableCompressedTexture2D_7yxvd")
region = Rect2(48, 64, 48, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_wmvch"]
atlas = SubResource("PortableCompressedTexture2D_7yxvd")
region = Rect2(96, 64, 48, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_b2axx"]
atlas = SubResource("PortableCompressedTexture2D_7yxvd")
region = Rect2(48, 0, 48, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_yhqc0"]
atlas = SubResource("PortableCompressedTexture2D_7yxvd")
region = Rect2(96, 0, 48, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_o3mdm"]
atlas = SubResource("PortableCompressedTexture2D_7yxvd")
region = Rect2(144, 0, 48, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_lkh0q"]
atlas = SubResource("PortableCompressedTexture2D_7yxvd")
region = Rect2(0, 32, 48, 32)

[sub_resource type="SpriteFrames" id="SpriteFrames_s77hn"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_5scbx")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_lnjeg")
}],
"loop": false,
"name": &"cycle",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_iv7mh")
}],
"loop": false,
"name": &"idle",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_0hp27")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_yoqqk")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_soys5")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_062l6")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_my5mh")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_wmvch")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_0hp27")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_yoqqk")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_soys5")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_062l6")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_my5mh")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_wmvch")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_0hp27")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_yoqqk")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_soys5")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_062l6")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_my5mh")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_wmvch")
}],
"loop": false,
"name": &"reload",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_b2axx")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_yhqc0")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_o3mdm")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_lkh0q")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_iv7mh")
}],
"loop": false,
"name": &"shot",
"speed": 10.0
}]

[sub_resource type="Animation" id="Animation_5scbx"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(11, 6)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath(".:rotation")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [0.0]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath(".:scale")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(1, 1)]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath(".:animation")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0.001),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [&"idle"]
}

[sub_resource type="Animation" id="Animation_7yxvd"]
resource_name = "equip"
length = 0.3
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.3),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2(-5, -1), Vector2(11, 6)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath(".:rotation")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.3),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [-2.65465, 0.0]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath(".:scale")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0, 0.2),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2(0.7, 0.7), Vector2(1, 1)]
}

[sub_resource type="Animation" id="Animation_lnjeg"]
resource_name = "reload"
length = 2.0
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:rotation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.166667, 1.56667, 1.8),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 0,
"values": [0.0, -1.0472, -1.0472, 0.0]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath(".:position")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(11, 6)]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath(".:animation")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0, 1.79),
"transitions": PackedFloat32Array(1, 1),
"update": 1,
"values": [&"reload", &"cycle"]
}

[sub_resource type="Animation" id="Animation_iv7mh"]
resource_name = "shot"
length = 0.4
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.4),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2(0, 6), Vector2(11, 6)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath(".:rotation")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [0.0]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath(".:scale")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(1, 1)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_lnjeg"]
_data = {
&"RESET": SubResource("Animation_5scbx"),
&"equip": SubResource("Animation_7yxvd"),
&"reload": SubResource("Animation_lnjeg"),
&"shot": SubResource("Animation_iv7mh")
}

[sub_resource type="Resource" id="Resource_yoqqk"]
script = ExtResource("4_7yxvd")
name = "cycle"
bus = ""
volume = 0.0
pitch = 1.0
streams = Array[AudioStream]([ExtResource("5_5scbx")])
metadata/_custom_type_script = "uid://d3sjvr8ju7j8h"

[sub_resource type="Resource" id="Resource_soys5"]
script = ExtResource("4_7yxvd")
name = "shot"
bus = ""
volume = 0.0
pitch = 1.0
streams = Array[AudioStream]([ExtResource("6_7yxvd")])
metadata/_custom_type_script = "uid://d3sjvr8ju7j8h"

[sub_resource type="Resource" id="Resource_062l6"]
script = ExtResource("4_7yxvd")
name = "reload_1"
bus = ""
volume = 0.0
pitch = 1.0
streams = Array[AudioStream]([ExtResource("7_iv7mh")])
metadata/_custom_type_script = "uid://d3sjvr8ju7j8h"

[sub_resource type="Resource" id="Resource_my5mh"]
script = ExtResource("4_7yxvd")
name = "reload_2"
bus = ""
volume = 0.0
pitch = 1.0
streams = Array[AudioStream]([ExtResource("8_0hp27")])
metadata/_custom_type_script = "uid://d3sjvr8ju7j8h"

[sub_resource type="Gradient" id="Gradient_7yxvd"]
offsets = PackedFloat32Array(0, 0.135945)
colors = PackedColorArray(0, 0, 0, 0, 1, 1, 1, 1)

[sub_resource type="Resource" id="Resource_lnjeg"]
script = ExtResource("9_7yxvd")
laser_width = 1.0
laser_speed = -1.0
collide_at_impact = true
laser_fill_gradient = SubResource("Gradient_7yxvd")
time_laser_active = -1.0
external_control_disable = false
time_laser_fade = 1.0
laser_pierce_count = -1
damage = 10.0
knockback_magnitude = 1000.0
is_player_bullet = true
bullet_modulate = Color(2, 2, 2, 1)
hit_particle = ExtResource("9_5scbx")
metadata/_custom_type_script = "uid://c4doxu14h34ks"

[sub_resource type="Resource" id="Resource_iv7mh"]
script = ExtResource("10_5scbx")
points = Array[Vector2]([Vector2(0, 0)])
randomized_angle_spread = 0.0
speed = 0.0
amount_of_bullets = 1
time_between_bullets = 0.0
time_before_move = 0.0
time_between_bullets_before_move = 0.0
time_between_fire = 1.0
continous_shoot_position = false
metadata/_custom_type_script = "uid://d1ylqbvjqhtj8"

[node name="Sniper" node_paths=PackedStringArray("bullet_spawner") instance=ExtResource("1_s7yg6")]
script = ExtResource("2_braa8")
kickback = 1000.0
bullet_spawner = NodePath("BulletSpawner")
mag_size = 3
reload_time = 2.0

[node name="AnimatedSprite2D" parent="." index="0"]
texture_filter = 1
position = Vector2(11, 6)
sprite_frames = SubResource("SpriteFrames_s77hn")
animation = &"reload"
offset = Vector2(13, -2)
metadata/_aseprite_wizard_config_ = {
"embed_tex": true,
"layers": [],
"o_ex_p": "",
"o_folder": "",
"o_name": "",
"only_visible": false,
"should_round_fps": true,
"slice": "",
"source": "res://weapons/ally/sniper/sniper.aseprite"
}
metadata/_aseprite_wizard_source_file_hash_ = "83e55d2caf5c560c6021c2431de9d730"

[node name="AnimationPlayer" type="AnimationPlayer" parent="AnimatedSprite2D" index="0"]
libraries = {
&"": SubResource("AnimationLibrary_lnjeg")
}

[node name="SoundBank" parent="." index="1"]
label = "sniper"
events = Array[ExtResource("4_7yxvd")]([SubResource("Resource_yoqqk"), SubResource("Resource_soys5"), SubResource("Resource_062l6"), SubResource("Resource_my5mh")])

[node name="ReloadSound2Timer" type="Timer" parent="." index="2"]
one_shot = true

[node name="BulletSpawner" parent="." index="3" instance=ExtResource("8_hcqri")]
position = Vector2(0, 2)
target_position = Vector2(44, 0)
collision_mask = 9
bullet_props = SubResource("Resource_lnjeg")
bullet_pattern = SubResource("Resource_iv7mh")
